<mat-toolbar class="app-header">
  <button mat-icon-button (click)="toggleMenu.emit()" aria-label="Menu" class="mobile-menu-btn">
    <mat-icon>menu</mat-icon>
  </button>

  <span class="logo" routerLink="/">Banda Carmelitana</span>

  <nav class="nav-links">
    @for (item of shortcuts; track item.route) {
    <button mat-button [routerLink]="item.route" routerLinkActive="active-nav">
      <mat-icon>{{ item.icon }}</mat-icon>
      <span>{{ item.label }}</span>
    </button>
    }
  </nav>

  <span class="spacer"></span>

  <div class="actions">
    <button mat-icon-button [matMenuTriggerFor]="settingsMenu" aria-label="Configurações">
      <mat-icon>settings</mat-icon>
    </button>
    <button mat-icon-button aria-label="Compartilhar">
      <mat-icon>share</mat-icon>
    </button>
  </div>
</mat-toolbar>

<mat-menu #settingsMenu="matMenu" xPosition="before" class="custom-menu">
  <div class="menu-section">
    <div class="menu-title">APARÊNCIA</div>
    <button mat-menu-item (click)="setTheme('light')">
      <mat-icon>light_mode</mat-icon>
      <span>Tema claro</span>
      @if (theme === 'light') { <mat-icon class="check">check</mat-icon> }
    </button>
    <button mat-menu-item (click)="setTheme('dark')">
      <mat-icon>dark_mode</mat-icon>
      <span>Tema escuro</span>
      @if (theme === 'dark') { <mat-icon class="check">check</mat-icon> }
    </button>
    <button mat-menu-item (click)="setTheme('system')">
      <mat-icon>settings_suggest</mat-icon>
      <span>Seguir o sistema</span>
      @if (theme === 'system') { <mat-icon class="check">check</mat-icon> }
    </button>
  </div>
  <mat-divider></mat-divider>
  <div class="menu-section">
    <div class="menu-title">COR PRIMÁRIA</div>
    @for (color of primaryOptions; track color) {
    <button mat-menu-item (click)="setPrimary(color)">
      <mat-icon [style.color]="color">palette</mat-icon>
      <span style="text-transform: capitalize;">{{ color }}</span>
      @if (primary === color) { <mat-icon class="check">check</mat-icon> }
    </button>
    }
  </div>
</mat-menu>